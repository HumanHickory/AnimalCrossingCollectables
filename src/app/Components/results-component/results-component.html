<div class="py-3"><b>{{availableBlurb()}}</b></div>

<p-table #dt [value]="displayedOptions()" [(selection)]="selectedCollectables" dataKey="name"
    [tableStyle]="{ 'min-width': '50rem' }">

    <ng-template #header>
        <tr>
            <th style="width: 4rem"><p-tableHeaderCheckbox /></th>
            @for(header of tableHeaders(); track header)
            { <th>{{header}}</th> }
        </tr>
    </ng-template>

    <ng-template #body let-collectable>
        <tr>
            <td>
                <p-tableCheckbox [value]="collectable" />
            </td>
            <td>{{ collectable.name }}</td>
            <td>
                @if(collectable.timeStart == collectable.timeEnd)
                {
                    All Day
                } 
                @else 
                {
                    {{ toDate(collectable.timeStart) | date:'h:mm a'}} - {{ toDate(collectable.timeEnd)| date:'h:mm a' }}

                    @if(collectable.secondTimeStart) {
                        & {{ toDate(collectable.secondTimeStart) | date:'h:mm a'}} - {{ toDate(collectable.secondTimeEnd)| date:'h:mm a' }}
                    }
                }
            </td>
            @if(typeEnum() == 0){
                <td>{{ collectable.weather }}</td>
            }

            @if(typeEnum() != 2){
                <td>{{ collectable.location }}</td>
            }    
            
            @if(typeEnum() != 0){
                <td>{{ collectable.shadowSize }}</td>
            }    
            
            @if(typeEnum() == 1){
                <td>{{ collectable.notes }}</td>
            }  
                
            <td> 
                @if(collectable.isLastMonth){
            <i class="pi pi-exclamation-triangle" style="color: red;"></i>
                }

                {{ collectable.months }} 
            
            </td>

        </tr>
    </ng-template>
</p-table>